<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Class 10 SST Notes Hub</title>

<!-- PDF.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI,Arial}

body{background:#f4f6fb;color:#222;transition:.3s}
.dark{background:#0f172a;color:#e5e7eb}

header{
background:linear-gradient(120deg,#4f46e5,#06b6d4);
color:#fff;text-align:center;padding:25px;font-size:28px;font-weight:bold}

.topbar{
display:flex;justify-content:space-between;flex-wrap:wrap;
gap:10px;padding:15px 20px;align-items:center}

.searchBox{
padding:10px;width:260px;border-radius:8px;border:none;
box-shadow:0 2px 8px rgba(0,0,0,.15)}

.btn{
padding:10px 15px;border:none;border-radius:8px;
cursor:pointer;background:#4f46e5;color:#fff;font-weight:bold}

.tabs{display:flex;justify-content:center;flex-wrap:wrap;gap:15px;margin:10px}
.tab{
padding:10px 20px;background:#fff;border-radius:25px;cursor:pointer;
box-shadow:0 3px 10px rgba(0,0,0,.15);font-weight:600}
.activeTab{background:#4f46e5;color:#fff}

.container{display:grid;grid-template-columns:300px 1fr;gap:20px;padding:20px}

.chapterBox,.notes{
background:#fff;border-radius:12px;padding:20px;
box-shadow:0 5px 20px rgba(0,0,0,.1);height:72vh;overflow:auto}

.dark .chapterBox,.dark .notes,.dark .tab{background:#1e293b;color:#fff}
.chapterBtn{display:block;width:100%;padding:10px;margin-bottom:10px;
border:none;background:#eef2ff;border-radius:8px;cursor:pointer}
.dark .chapterBtn{background:#334155}

canvas{width:100%!important;height:auto!important;border-radius:10px}

@media(max-width:900px){
.container{grid-template-columns:1fr}
.chapterBox,.notes{height:auto}
.searchBox{width:100%}
}
</style>
</head>

<body>

<header>ðŸ“˜ Class 10 SST Notes Hub</header>

<div class="topbar">
<input type="text" id="search" class="searchBox" placeholder="Search chapter...">
<button class="btn" onclick="toggleDark()">ðŸŒ™ Dark Mode</button>
</div>

<div class="tabs">
<div class="tab activeTab" onclick="showSubject('history',this)">History</div>
<div class="tab" onclick="showSubject('civics',this)">Civics</div>
<div class="tab" onclick="showSubject('geography',this)">Geography</div>
<div class="tab" onclick="showSubject('economics',this)">Economics</div>
</div>

<div class="container">
<div class="chapterBox" id="chapters"></div>
<div class="notes" id="notes">
<h2>Welcome ðŸ‘‹</h2>
<p>Select a chapter to view notes.</p>
</div>
</div>

<script>
/* ðŸ“ YOUR PDF LINKS */
const data={
history:{
"Rise of Nationalism in Europe":"pdf/rise-nationalism-europe.pdf",
"Nationalism in India":"pdf/nationalism-india.pdf",
"Making of Global World":"pdf/global-world.pdf",
"Age of Industrialisation":"pdf/industrialisation.pdf",
"Print Culture":"pdf/print-culture.pdf"
},
civics:{
"Power Sharing":"pdf/power-sharing.pdf",
"Federalism":"pdf/federalism.pdf",
"Gender Religion & Caste":"pdf/gender-religion.pdf",
"Political Parties":"pdf/political-parties.pdf",
"Outcomes of Democracy":"pdf/outcomes-democracy.pdf"
},
geography:{
"Resources and Development":"pdf/resources-dev.pdf",
"Forest and Wildlife":"pdf/forest-wildlife.pdf",
"Water Resources":"pdf/water-resources.pdf",
"Agriculture":"pdf/agriculture.pdf",
"Minerals and Energy":"pdf/minerals-energy.pdf",
"Manufacturing Industries":"pdf/manufacturing-industries.pdf",
"Lifeline of National Economy":"pdf/national-economy.pdf"
},
economics:{
"Development":"pdf/development.pdf",
"Sectors of Economy":"pdf/sectors.pdf",
"Money and Credit":"pdf/money-credit.pdf",
"Globalisation":"pdf/globalisation.pdf",
"Consumer Rights":"pdf/consumer-rights.pdf"
}
}

let currentSubject="history";
const chapterBox=document.getElementById("chapters");
const notesBox=document.getElementById("notes");

/* Subject tabs */
function showSubject(subject,el){
currentSubject=subject;
document.querySelectorAll(".tab").forEach(t=>t.classList.remove("activeTab"));
el.classList.add("activeTab");
loadChapters();
}

function loadChapters(){
chapterBox.innerHTML="";
Object.keys(data[currentSubject]).forEach(ch=>{
let btn=document.createElement("button");
btn.className="chapterBtn";
btn.innerText=ch;
btn.onclick=()=>showNotes(ch,currentSubject);
chapterBox.appendChild(btn);
});
}

/* ðŸ”Ž GLOBAL SEARCH */
document.getElementById("search").addEventListener("input",function(e){
let term=e.target.value.toLowerCase();
chapterBox.innerHTML="";
if(term===""){loadChapters();return;}
for(let subject in data){
for(let chapter in data[subject]){
if(chapter.toLowerCase().includes(term)){
let btn=document.createElement("button");
btn.className="chapterBtn";
btn.innerText=`${chapter} (${subject})`;
btn.onclick=()=>showNotes(chapter,subject);
chapterBox.appendChild(btn);
}}}
});

/* ðŸŒ™ Dark mode */
function toggleDark(){document.body.classList.toggle("dark");}

/* ðŸ“„ PDF VIEWER ENGINE */
let pdfDoc=null,pageNum=1,scale=1.2;

function showNotes(ch,subject){
let pdfPath=data[subject][ch];
notesBox.innerHTML=`
<h2>${ch}</h2>
<h4>${subject.toUpperCase()}</h4>
<div style="margin:10px 0">
<button class="btn" onclick="zoomOut()">âž– Zoom</button>
<button class="btn" onclick="zoomIn()">âž• Zoom</button>
</div>
<canvas id="pdfCanvas"></canvas>
<br><br>
<a class="btn" href="${pdfPath}" download>â¬‡ Download PDF</a>
`;
loadPDF(pdfPath);
}

function loadPDF(url){
pdfjsLib.getDocument(url).promise.then(pdf=>{
pdfDoc=pdf;pageNum=1;renderPage(pageNum);
});
}

function renderPage(num){
pdfDoc.getPage(num).then(page=>{
const canvas=document.getElementById("pdfCanvas");
const ctx=canvas.getContext("2d");
const viewport=page.getViewport({scale:scale});
canvas.height=viewport.height;
canvas.width=viewport.width;
page.render({canvasContext:ctx,viewport:viewport});
});
}

function zoomIn(){scale+=0.2;renderPage(pageNum);}
function zoomOut(){if(scale>0.6){scale-=0.2;renderPage(pageNum);}}

loadChapters();
</script>

</body>
</html>
